# ============================================================
# Public (browser-exposed) environment variables
#
# Anything prefixed with NEXT_PUBLIC_ is safe to be "public" and is bundled into
# the client by Next.js. Still restrict API keys by domain/referrer where possible.
#
# Set these in:
# - Vercel (Production + Preview)
# - Local development (.env.local)
# ============================================================

# App base URL (used for redirects + some server-to-server Referer headers)
NEXT_PUBLIC_SITE_URL=http://localhost:3000
# Used for Stripe return URLs + some server actions; usually same as NEXT_PUBLIC_SITE_URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Supabase (client)
NEXT_PUBLIC_SUPABASE_URL=your-supabase-project-url
# Preferred (new format) - looks like `sb_publishable_...`
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-supabase-publishable-key
# Legacy (JWT) - deprecated. Keep only if you have older tooling that still expects it.
# The Next.js app uses NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY instead.
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# Google Maps (client)
# Optional base URL override for Places API calls (defaults to https://places.googleapis.com/v1)
NEXT_PUBLIC_GOOGLE_MAPS_API_URL=https://places.googleapis.com/v1
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key
NEXT_PUBLIC_GOOGLE_MAPS_MAP_ID=your-google-maps-map-id
# Optional separate key for Geocoding (falls back to NEXT_PUBLIC_GOOGLE_MAPS_API_KEY)
NEXT_PUBLIC_GOOGLE_MAPS_GEOCODING_API_KEY=your-google-maps-geocoding-api-key

# Stripe (client)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your-stripe-publishable-key
# Stripe price IDs for the Pro subscription (used by the Pricing/Billing UI)
NEXT_PUBLIC_STRIPE_MONTHLY_PRO_PLAN_ID=your-stripe-monthly-price-id
NEXT_PUBLIC_STRIPE_YEARLY_PRO_PLAN_ID=your-stripe-yearly-price-id

# AI feature gating
# - off: disable AI for everyone
# - pro: only Pro subscribers (default)
# - all: allow all signed-in users
NEXT_PUBLIC_AI_ASSISTANT_ACCESS=pro

# Enable the assistant's day-plan curation mode (auto-curate on "plan my day" intent)
# - 0/false: off (default)
# - 1/true: on
NEXT_PUBLIC_ASSISTANT_CURATION_MODE=0


# ============================================================
# Server-only environment variables (do NOT use NEXT_PUBLIC_)
#
# Set these in:
# - Vercel (Production + Preview)
# - Local development (.env.local)
# ============================================================

# Supabase (server/admin)
# Secret API key (new format) - looks like `sb_secret_...`
SUPABASE_SECRET_KEY=your-supabase-secret-key
# Legacy (JWT) - deprecated. Keep only if you have older tooling that still expects it.
# The Next.js app uses SUPABASE_SECRET_KEY instead.
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# OpenAI (server-only)
OPENAI_API_KEY=your-openai-api-key
# Optional model overrides
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# Optional (for proxies/self-hosted gateways); defaults to https://api.openai.com/v1
OPENAI_BASE_URL=https://api.openai.com/v1

# AI token quotas (monthly, per user)
# Recommended starting point for a $15/month Pro plan is ~300k tokens/user/month.
AI_MONTHLY_TOKEN_LIMIT_FREE=0
AI_MONTHLY_TOKEN_LIMIT_PRO=300000

# Stripe (server-only)
STRIPE_SECRET_KEY=your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret

# Google Maps (server-only keys recommended; APIs fall back to NEXT_PUBLIC_* if unset)
GOOGLE_MAPS_API_KEY=your-google-maps-server-api-key
GOOGLE_PLACES_API_KEY=your-google-places-api-key
GOOGLE_ROUTES_API_KEY=your-google-routes-api-key


# ============================================================
# Dev-only toggles (do NOT set in Vercel Production)
#
# These are safe to set in local dev and Preview environments, but should stay
# off in production unless you explicitly want them.
# ============================================================

# Dev-only: bypass billing/subscription checks for Pro features.
# Only takes effect when NODE_ENV !== "production".
NEXT_PUBLIC_DEV_BYPASS_BILLING=0

# Optional debug logging flags
NEXT_PUBLIC_WEB_VITALS_SAMPLE_RATE=0.05
NEXT_PUBLIC_GOOGLE_ROUTES_DEBUG=0
TZ=UTC
GOOGLE_ROUTES_DEBUG=0
GOOGLE_ROUTES_DEBUG_VERBOSE=0
DEBUG_GOOGLE_PLACES=0
AI_ITINERARY_LOG=0
LINK_IMPORT_LOG=0
INTERNAL_TELEMETRY_DASHBOARD=0
ANALYZE=0


# ============================================================
# Local Supabase / CLI / Edge Functions only (NOT Vercel)
#
# These are used by the Supabase CLI and/or Supabase Edge Functions runtime.
# Configure them in Supabase (dashboard / CLI) instead of Vercel.
# ============================================================

# For supabase/functions (Deno runtime)
SUPABASE_URL=your-supabase-project-url

# Used by supabase/config.toml for local auth provider setup
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret

# If you use it locally for database tooling (not used by the Next.js app)
SUPABASE_DATABASE_PASSWORD=your-local-db-password
